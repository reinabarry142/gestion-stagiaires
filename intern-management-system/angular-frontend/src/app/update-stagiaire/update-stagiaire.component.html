


<div class="container-sm">
  <div class="col-md-6 offset-md-3 container-sm">
      <form #f="ngForm" (ngSubmit)="f.form.valid && onSubmit()" class="row g-3 form-container container-sm">

          <div class="form-group col-md-6">
              <label><b>Prenom</b></label>
              <input required type="text" class="form-control" id="fname" [(ngModel)]="stagiaire.prenom" required minlength="3"
                  name="fname" #fname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && fname.errors }" />
              <div *ngIf="f.submitted && fname.errors" class="invalid-feedback">
                  <div *ngIf="fname.errors['required']">First name is required</div>
                  <div *ngIf="fname.errors['minlength']">First Name must be at least 3 characters long</div>
              </div>
          </div>

          <div class="form-group col-md-6">
              <label><b>Nom</b></label>
              <input required type="text" class="form-control" id="lname" [(ngModel)]="stagiaire.nom" name="lname" required
                  #lname="ngModel" [ngClass]="{ 'is-invalid': f.submitted && lname.errors }">
              <div *ngIf="f.submitted && lname.errors" class="invalid-feedback">
                  <div *ngIf="lname.errors['required']">Last name is required</div>
              </div>
          </div>

          <br><br>

          <div class="form-group col-md-12">
              <label><b>Email </b></label>
              <input required type="email" class="form-control" id="email" [(ngModel)]="stagiaire.email" name="email" required
                  email #email="ngModel" [ngClass]="{ 'is-invalid': f.submitted && email.errors }" />
              <div *ngIf="f.submitted && email.errors" class="invalid-feedback">
                  <div *ngIf="email.errors['required']">Email is required</div>
                  <div *ngIf="email.errors['email']">Invalid email format</div>
              </div>
          </div>

          <br><br>

          <div class="form-group col-md-6">
              <label class="form-label"><b>Niveau</b></label>
              <input type="text" class="form-control" id="niveau" [(ngModel)]="stagiaire.niveau" name="niveau" required
                  #niveau="ngModel" [ngClass]="{ 'is-invalid': f.submitted && niveau.errors }">
              <div *ngIf="f.submitted && niveau.errors" class="invalid-feedback">
                  <div *ngIf="niveau.errors['required']">Level is required</div>
              </div>
          </div>

          <div class="form-group col-md-6">
              <label class="form-label"><b>Ecole/Faculté</b></label>
              <input required type="text" class="form-control" id="ecoleFaculte" [(ngModel)]="stagiaire.ecoleFaculte" name="ecoleFaculte"
                  required #ecoleFaculte="ngModel" [ngClass]="{ 'is-invalid': f.submitted && ecoleFaculte.errors }">
              <div *ngIf="f.submitted && ecoleFaculte.errors" class="invalid-feedback">
                  <div *ngIf="ecoleFaculte.errors['required']">School/Faculty is required</div>
              </div>
          </div>

          <br><br>

          <div class="form-group col-md-6">
              <label class="form-label"><b>Prochain diplome</b></label>
              <input required type="text" class="form-control" id="prochainDiplome" [(ngModel)]="stagiaire.prochainDiplome" name="prochainDiplome"
                  required #prochainDiplome="ngModel" [ngClass]="{ 'is-invalid': f.submitted && prochainDiplome.errors }">
              <div *ngIf="f.submitted && prochainDiplome.errors" class="invalid-feedback">
                  <div *ngIf="prochainDiplome.errors['required']">Next Degree is required</div>
              </div>
          </div>

          <div class="form-group col-md-6">
              <label><b>Année</b></label>
              <input required type="number" class="form-control" id="annee" [(ngModel)]="stagiaire.annee" name="annee" required
                  #annee="ngModel" [ngClass]="{ 'is-invalid': f.submitted && annee.errors }">
              <div *ngIf="f.submitted && annee.errors" class="invalid-feedback">
                  <div *ngIf="annee.errors['required']">Year is required</div>
              </div>
          </div>

          <br><br>

          <div class="form-group col-md-6">
              <label><b>Photo</b></label>
              <input required type="file" class="form-control" id="photo" (change)="onFileChange($event)" name="photo">
              <div *ngIf="f.submitted && !selectedFile" class="invalid-feedback">
                  <div *ngIf="!selectedFile">Photo is required</div>
              </div>
          </div>

          <div class="form-group col-md-6">
              <label><b>Date de naissance</b></label>
              <input type="date" class="form-control" id="dateNaissance" [(ngModel)]="stagiaire.dateNaissance" name="dateNaissance"
                  required #dateNaissance="ngModel" [ngClass]="{ 'is-invalid': f.submitted && dateNaissance.errors }">
              <div *ngIf="f.submitted && dateNaissance.errors" class="invalid-feedback">
                  <div *ngIf="dateNaissance.errors['required']">Date of Birth is required</div>
              </div>
          </div>

          <br><br><br><br>

          <div class="form-group col-md-6">
              <button class="btn btn-success full-width-button" type="submit" [disabled]="!f.form.valid || !fileSelected">Envoyer</button>
          </div>

          <div class="form-group col-md-6">
              <button type="button" (click)="goToStagiaireList()" class="btn btn-danger full-width-button">Annuler</button>
          </div>
      </form>
  </div>
</div>
